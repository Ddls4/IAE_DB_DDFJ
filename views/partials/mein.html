<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IAE</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <style>
        /* Estilo básico para las columnas */
        .columnas {
            display: flex;
            justify-content: space-around;
        }
        .columna {
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            min-width: 150px;
        }
        .columna h3 {
            text-align: center;
            margin-bottom: 10px;
        }
        .fila {
            margin: 5px 0;
            padding: 5px;
            border: 1px solid #ddd;
            background-color: #fff;
        }
    </style>
</head>
<body >
    
    <div class="">
        <!-- -----------------------------------  Encabesado ----------------------------------- -->
        <header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
            <span class="fs-4">DB-IAE</span>
            <div class="col-md-3 text-end">
                <button type="button" class="btn btn-outline-primary me-2">Login</button>
                <button type="button" class="btn btn-primary">Sign-up</button>
            </div>
        </header>
        <div  class="container-fluid">
            <div class="row">
                <aside class="sidebar border border-right col-3">
                    <h3>Configurador</h3>
                    <h4>Columnas y Filas</h4>
                    <form id="config-form">
                        <label for="num-columnas">Cantidad de columnas:</label>
                        <input type="number" id="num-columnas" name="num-columnas" min="1" max="10" value="3">
                        <button type="button" id="generar-columnas">Generar Columnas</button>
                        <div id="nombres-columnas">
                            <!-- Aquí se generarán los inputs para los nombres de las columnas -->
                        </div>
                        <button type="button" id="aplicar-nombres">Aplicar Nombres</button>
                    </form>
                    <h2>Agregar Información a las Columnas</h2>
                    <form id="fila-form">
                        <label for="columna-seleccionada">Seleccionar columna:</label>
                        <select id="columna-seleccionada">
                            <!-- Opciones dinámicas -->
                        </select>
                        <label for="contenido-fila">Contenido de la fila:</label>
                        <input type="text" id="contenido-fila" placeholder="Ingrese el contenido">
                        <button type="button" id="agregar-fila">Agregar Fila</button>
                    </form>
                </aside>

                <main class="col-9">     
                    <table id="contenedor-columnas" class="columnas">

                    </table>
                </main>
            </div>
        </div>
    </div>
    
    <!-- -----------------------------------  SCRIPT  ----------------------------------- -->
    <script>
        const numColumnasInput = document.getElementById('num-columnas');
        const nombresColumnasDiv = document.getElementById('nombres-columnas');
        const contenedorColumnas = document.getElementById('contenedor-columnas');
        const columnaSeleccionada = document.getElementById('columna-seleccionada');
        const contenidoFilaInput = document.getElementById('contenido-fila');

        document.getElementById('generar-columnas').addEventListener('click', () => {
            const numColumnas = parseInt(numColumnasInput.value);

            // Vaciar los inputs de nombres previos
            nombresColumnasDiv.innerHTML = '';
            columnaSeleccionada.innerHTML = '';

            for (let i = 0; i < numColumnas; i++) {
                // Crear inputs para nombres
                const input = document.createElement('input');
                input.type = 'text';
                input.name = `nombre-columna-${i + 1}`;
                input.placeholder = `Nombre de la columna ${i + 1}`;
                nombresColumnasDiv.appendChild(input);
                nombresColumnasDiv.appendChild(document.createElement('br'));

                // Crear opciones para el selector de columnas
                const option = document.createElement('option');
                option.value = i;
                option.textContent = `Columna ${i + 1}`;
                columnaSeleccionada.appendChild(option);
            }
        });

        document.getElementById('aplicar-nombres').addEventListener('click', () => {
            contenedorColumnas.innerHTML = ''; // Limpiar contenedor de columnas
            const nombresInputs = nombresColumnasDiv.querySelectorAll('input');

            nombresInputs.forEach((input, index) => {
                const div = document.createElement('div');
                div.className = 'columna';
                div.dataset.index = index;
                div.innerHTML = `<h3>${input.value || `Columna ${index + 1}`}</h3>`;
                contenedorColumnas.appendChild(div);

                // Actualizar opciones del selector con los nombres
                columnaSeleccionada.options[index].textContent = input.value || `Columna ${index + 1}`;
            });
        });

        document.getElementById('agregar-fila').addEventListener('click', () => {
            const selectedColIndex = columnaSeleccionada.value;
            const contenidoFila = contenidoFilaInput.value.trim();

            if (contenidoFila === "") return; // No agregar filas vacías

            const selectedColumna = contenedorColumnas.querySelector(`.columna[data-index='${selectedColIndex}']`);
            const div = document.createElement('div');
            div.className = 'fila';
            div.textContent = contenidoFila;
            selectedColumna.appendChild(div);

            // Limpiar input de contenido
            contenidoFilaInput.value = '';
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</body>
</html>